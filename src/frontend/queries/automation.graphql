query getAutomationConfig($id: UUID!) {
  automationConfig(bedId: $id) {
    parameters {
      key
      label
      fields {
        key
        label
        max
        min
        tsType
        unit
        valueType
        values {
          label
          value
        }
      }
    }
  }
}

query getRulesFromBed($bedId: UUID!) {
  rules(bedId: $bedId) {
    bedId
    expressionJson
    id
    isEnabled
    name
    actions {
      actionKey
      id
      moduleId
      moduleKey
      moduleType
      order
      ruleId
      value
    }
  }
}

query getRuleById($ruleId: UUID!) {
  rule(ruleId: $ruleId) {
    bedId
    expressionJson
    id
    isEnabled
    name
    actions {
      actionKey
      id
      moduleId
      moduleKey
      moduleType
      order
      ruleId
      value
    }
  }
}

mutation saveAutomationRule($input: SaveAutomationRuleInput!) {
  saveAutomationRule(input: $input) {
    automationRuleDto {
      actions {
        ruleId
        moduleId
        moduleKey
        moduleType
        actionKey
        value
        order
        id
      }
      bedId
      expressionJson
      id
      isEnabled
      name
    }
  }
}

mutation removeAutomationRule($automationRuleId: UUID!) {
  removeAutomationRule(input: { automationRuleId: $automationRuleId }) {
    boolean
  }
}
